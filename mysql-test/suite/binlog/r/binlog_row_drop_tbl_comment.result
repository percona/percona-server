RESET BINARY LOGS AND GTIDS;
CREATE DATABASE test7526;
USE test7526;
/* comment1 */ CREATE TABLE t (a VARCHAR(100));
/* comment1 */ DROP TABLE t;
CREATE TABLE t2 (a VARCHAR(100));
DROP TABLE t2 /* comment at end */;
CREATE TABLE t (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2;
/* comment at start */ DROP TABLE t /* comment at end */;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2;
/* comment at start */ DROP TABLE t1 /*!80017 */ /* comment at end */;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2;
CREATE TABLE t2 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2;
/* comment at start */ DROP TABLE t1 /*!80017 ,t2*/ /* comment at end */;
SET binlog_ddl_skip_rewrite = ON;
/* comment1 */ CREATE TABLE t (a VARCHAR(100));
/* comment1 */ DROP TABLE t;
CREATE TABLE t2 (a VARCHAR(100));
DROP TABLE t2 /* comment at end */;
CREATE TABLE t (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2;
/* comment at start */ DROP TABLE t /* comment at end */;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2;
/* comment at start */ DROP TABLE t1 /*!80017 */ /* comment at end */;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2;
CREATE TABLE t2 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2;
/* comment at start */ DROP TABLE t1 /*!80017 ,t2*/ /* comment at end */;
ERROR HY000: Multi table drop is not supported when 'binlog_ddl_skip_rewrite' option is enabled
SET binlog_ddl_skip_rewrite = OFF;
DROP TABLE t1,t2;
/* comment1 */ CREATE TABLE t (a VARCHAR(100));
/* comment1 */ DROP TABLE t;
CREATE TABLE t2 (a VARCHAR(100));
DROP TABLE t2 /* comment at end */;
SET binlog_ddl_skip_rewrite = ON;
CREATE TABLE t (a INT);
CREATE TABLE t1 (a INT);
DROP TABLE t,t1;
ERROR HY000: Multi table drop is not supported when 'binlog_ddl_skip_rewrite' option is enabled
SET binlog_ddl_skip_rewrite = OFF;
DROP TABLE t,t1;
DROP DATABASE test7526;
SET binlog_ddl_skip_rewrite = ON;
/* comment start */ CREATE DATABASE test7526 /* comment end */;
/* comment start */ DROP DATABASE test7526 /* comment end */;
SET binlog_ddl_skip_rewrite = OFF;
/* comment start */ CREATE DATABASE test7526 /* comment end */;
/* comment start */ DROP DATABASE test7526 /* comment end */;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
binlog.000001	#	Query	#	#	CREATE DATABASE test7526
binlog.000001	#	Query	#	#	use `test7526`; /* comment1 */ CREATE TABLE t (a VARCHAR(100))
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t` /* generated by server */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t2 (a VARCHAR(100))
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t2` /* generated by server */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t` /* generated by server */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t1` /* generated by server */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t2 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t1`,`t2` /* generated by server */
binlog.000001	#	Query	#	#	use `test7526`; /* comment1 */ CREATE TABLE t (a VARCHAR(100))
binlog.000001	#	Query	#	#	use `test7526`; /* comment1 */ DROP TABLE t
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t2 (a VARCHAR(100))
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE t2 /* comment at end */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2
binlog.000001	#	Query	#	#	use `test7526`; /* comment at start */ DROP TABLE t /* comment at end */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2
binlog.000001	#	Query	#	#	use `test7526`; /* comment at start */ DROP TABLE t1 /*!80017 */ /* comment at end */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t2 (a INT NOT NULL PRIMARY KEY)
PARTITION BY KEY (a)
PARTITIONS 2
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t1`,`t2` /* generated by server */
binlog.000001	#	Query	#	#	use `test7526`; /* comment1 */ CREATE TABLE t (a VARCHAR(100))
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t` /* generated by server */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t2 (a VARCHAR(100))
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t2` /* generated by server */
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t (a INT)
binlog.000001	#	Query	#	#	use `test7526`; CREATE TABLE t1 (a INT)
binlog.000001	#	Query	#	#	use `test7526`; DROP TABLE `t`,`t1` /* generated by server */
binlog.000001	#	Query	#	#	DROP DATABASE test7526
binlog.000001	#	Query	#	#	/* comment start */ CREATE DATABASE test7526 /* comment end */
binlog.000001	#	Query	#	#	/* comment start */ DROP DATABASE test7526 /* comment end */
binlog.000001	#	Query	#	#	/* comment start */ CREATE DATABASE test7526 /* comment end */
binlog.000001	#	Query	#	#	/* comment start */ DROP DATABASE test7526 /* comment end */
