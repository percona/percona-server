INSTALL COMPONENT 'file://component_masking_functions';
SELECT @@global.masking_functions.dictionaries_flush_interval_seconds;
@@global.masking_functions.dictionaries_flush_interval_seconds
0
SELECT NAME FROM performance_schema.threads WHERE NAME LIKE "%masking_functions%";
NAME
SET GLOBAL masking_functions.dictionaries_flush_interval_seconds=100;
ERROR HY000: Variable 'masking_functions.dictionaries_flush_interval_seconds' is a read only variable
SET SESSION masking_functions.dictionaries_flush_interval_seconds=100;
ERROR HY000: Variable 'masking_functions.dictionaries_flush_interval_seconds' is a read only variable
# restart: --masking-functions.dictionaries-flush-interval-seconds=100
SELECT @@global.masking_functions.dictionaries_flush_interval_seconds;
@@global.masking_functions.dictionaries_flush_interval_seconds
100
CREATE TABLE mysql.masking_dictionaries(
Dictionary VARCHAR(256) NOT NULL,
Term VARCHAR(256) NOT NULL,
UNIQUE INDEX dictionary_term_idx (Dictionary, Term)
) ENGINE = InnoDB DEFAULT CHARSET=utf8mb4;
CREATE USER udftest_priv@localhost;
GRANT MASKING_DICTIONARIES_ADMIN ON *.* TO udftest_priv@localhost;
SELECT masking_dictionary_term_add('single_dict_1', 'entry_1');
masking_dictionary_term_add('single_dict_1', 'entry_1')
1
SELECT NAME FROM performance_schema.threads WHERE NAME LIKE "%masking_functions%";
NAME
thread/masking_functions/masking_functions_dict_flusher
UNINSTALL COMPONENT 'file://component_masking_functions';
DROP USER udftest_priv@localhost;
DROP TABLE mysql.masking_dictionaries;
# restart:
