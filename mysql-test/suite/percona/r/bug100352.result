#
# Bug #100352: DELETE IGNORE deletes wrong rows
#
CREATE TABLE t1 (a int);
INSERT INTO t1 VALUES (0), (5), (6), (7);
SELECT * from t1 ORDER BY a;
a
0
5
6
7
DELETE IGNORE t1.* FROM t1 WHERE a = (SELECT 1 UNION SELECT 2);
SELECT * from t1 ORDER BY a;
a
0
5
6
7
DELETE IGNORE t1.* FROM t1 WHERE a != (SELECT 1 UNION SELECT 2);
SELECT * from t1 ORDER BY a;
a
0
5
6
7
UPDATE IGNORE t1 SET a = 100 WHERE a = ( SELECT 1 UNION SELECT 2 );
SELECT * from t1 ORDER BY a;
a
0
5
6
7
UPDATE IGNORE t1 SET a = 100 WHERE a != ( SELECT 1 UNION SELECT 2 );
SELECT * from t1 ORDER BY a;
a
0
5
6
7
DROP TABLE t1;
