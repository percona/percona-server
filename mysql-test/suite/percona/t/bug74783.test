# Test for bug 74783 (handle_fatal_signal (sig=11) in update_ref_and_keys)

CREATE TABLE t1(a TEXT,FULLTEXT INDEX(a)) ENGINE=INNODB;
insert into t1(a)values(6),(7);
ALTER TABLE t1 RENAME TO t2;
CREATE TABLE t1(GRADE DECIMAL(4),KEY (GRADE)) ENGINE=INNODB;

--error ER_WRONG_ARGUMENTS
SELECT * FROM t2 UNION SELECT * FROM t2 ORDER BY(SELECT * FROM t1 WHERE MATCH(a)AGAINST ('+abc' IN BOOLEAN MODE));

DROP TABLE t1, t2;
