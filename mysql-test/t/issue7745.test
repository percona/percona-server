DELIMITER |;
CREATE PROCEDURE `sproc`()
BEGIN
	DROP TEMPORARY TABLE IF EXISTS `t1`;
	CREATE TEMPORARY TABLE `t1`(
		`c1` INT,
		KEY ( ( `c1` > 0 ) )
	);
	SELECT 1 FROM ( SELECT 1 `c2` ) `t2`;
END|
DELIMITER ;|

CALL `sproc`(); CALL `sproc`(); CALL `sproc`();

DROP PROCEDURE `sproc`;
DROP TEMPORARY TABLE `t1`;
